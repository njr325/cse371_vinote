// File: android/settings.gradle (CORRIGÉ)

pluginManagement {
    // 1. Définir le chemin du SDK Flutter de manière fiable
    def flutterSdkPath = '/home/studio/development/flutter'
    settings.ext.flutterSdkPath = flutterSdkPath

    // 2. Inclure le buildscript de Flutter pour que Gradle trouve le plugin
    includeBuild("$flutterSdkPath/packages/flutter_tools/gradle")

    repositories {
        gradlePluginPortal()
        google()
        mavenCentral()
    }
}

// 3. Déclarer le plugin ici pour qu'il soit disponible. apply false est correct.
plugins {
    id 'dev.flutter.flutter-gradle-plugin' version '1.0.0' apply false
}

rootProject.name = "cvinote"
include ':app'